/* ===== Theme variables ===== */
:root{
  --bg: linear-gradient(135deg, #0e0f1a 0%, #1a1b2e 50%, #16213e 100%);
  --bg-solid: #0e0f1a;
  --card: linear-gradient(145deg, #1a1d34 0%, #232644 100%);
  --card-solid: #1a1d34;
  --muted:#8b97b2;
  --text:#f0f4ff;
  --accent: linear-gradient(135deg, #7bb1ff 0%, #9d8df1 100%);
  --accent-solid: #7bb1ff;
  --danger:#ef4444;
  --ok: linear-gradient(135deg, #22c55e 0%, #34d399 100%);
  --ok-solid: #22c55e;
  --pill: linear-gradient(145deg, #1c274f 0%, #2a3558 100%);
  --pill-solid: #1c274f;

  /* Layout knobs */
  --page-max:2880px;        /* outer page max width */
  --content-wide:1600px;    /* cards/forms width target (make 1800/2000 if you want even longer) */
}

/* ===== Resets / base ===== */
*{box-sizing:border-box}
html,body{margin:0;padding:0;height:100%}
body{
  background: var(--bg);
  background-attachment: fixed;
  color:var(--text);
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans Thai",Arial,sans-serif;
  line-height:1.45;
  padding-left:12px; padding-right:12px;
  animation: fadeIn 0.8s ease-out;
  position: relative;
  overflow-x: hidden;
}

/* ===== Subtle animated background particles ===== */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    radial-gradient(2px 2px at 20px 30px, rgba(123, 177, 255, 0.1), transparent),
    radial-gradient(2px 2px at 40px 70px, rgba(157, 141, 241, 0.1), transparent),
    radial-gradient(1px 1px at 90px 40px, rgba(123, 177, 255, 0.08), transparent),
    radial-gradient(1px 1px at 130px 80px, rgba(157, 141, 241, 0.08), transparent),
    radial-gradient(2px 2px at 160px 30px, rgba(123, 177, 255, 0.1), transparent);
  background-repeat: repeat;
  background-size: 200px 100px;
  animation: float 20s ease-in-out infinite;
  pointer-events: none;
  z-index: -1;
}

@keyframes float {
  0%, 100% { 
    transform: translateY(0px) translateX(0px);
  }
  33% { 
    transform: translateY(-10px) translateX(5px);
  }
  66% { 
    transform: translateY(5px) translateX(-5px);
  }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes slideIn {
  from { transform: translateX(-20px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

/* ===== Loading Spinner ===== */
.spin {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(123, 177, 255, 0.3);
  border-radius: 50%;
  border-top-color: var(--accent-solid);
  animation: spin 0.8s ease-in-out infinite;
  margin-right: 8px;
}

/* ===== Enhanced Mood Colors ===== */
.pill.Happy, .badge.Happy { 
  background: linear-gradient(135deg, #22c55e 0%, #34d399 100%); 
  color: #0a2e1a; 
  box-shadow: 0 4px 16px rgba(34, 197, 94, 0.3);
}
.pill.Sad, .badge.Sad { 
  background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%); 
  color: #0f1629; 
  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
}
.pill.Angry, .badge.Angry { 
  background: linear-gradient(135deg, #ef4444 0%, #f87171 100%); 
  color: #2d0a0a; 
  box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3);
}
.pill.Worried, .badge.Worried { 
  background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%); 
  color: #2d1b05; 
  box-shadow: 0 4px 16px rgba(245, 158, 11, 0.3);
}
.pill.Excited, .badge.Excited { 
  background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%); 
  color: #1a0b2e; 
  box-shadow: 0 4px 16px rgba(168, 85, 247, 0.3);
}
.pill.Calm, .badge.Calm { 
  background: linear-gradient(135deg, #06b6d4 0%, #22d3ee 100%); 
  color: #0a1a1e; 
  box-shadow: 0 4px 16px rgba(6, 182, 212, 0.3);
}

/* ===== Enhanced Interactions ===== */
.pill, .badge {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.pill:hover, .badge:hover {
  transform: translateY(-2px) scale(1.05);
  filter: brightness(1.1);
}

a{
  color:var(--accent-solid);
  text-decoration:none;
  transition: all 0.3s ease;
  position: relative;
}
a:hover{
  text-decoration:underline;
  transform: translateY(-1px);
}

h1,h2,h3{
  margin:16px 0 8px;
  background: linear-gradient(135deg, var(--text) 0%, var(--accent-solid) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
h1{font-size:28px}
h2{font-size:20px}

/* ===== Layout ===== */
.container{
  max-width:var(--page-max);
  margin:0 auto;
  padding:16px;
}
.view{display:none}
.view.active{display:block;min-height:240px}

/* ===== Top bar ===== */
.topnav{
  display:flex;align-items:center;gap:16px;
  padding:12px 16px;border-bottom:1px solid #22315a;
  background: linear-gradient(135deg, rgba(14, 21, 48, 0.95) 0%, rgba(26, 29, 52, 0.9) 100%);
  -webkit-backdrop-filter:blur(10px); 
  backdrop-filter:blur(10px);
  width:100%; max-width:none;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
}
.topnav:hover {
  box-shadow: 0 8px 32px rgba(123, 177, 255, 0.15);
}
.nav-spacer{flex:1}

/* ===== Cards, badges, buttons ===== */
.card{
  background: var(--card);
  border:1px solid #22315a;
  border-radius:16px;
  padding:16px;
  box-shadow: 0 8px 32px rgba(0,0,0,.25), 0 0 0 1px rgba(255,255,255,0.05);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(123, 177, 255, 0.3), transparent);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.card:hover{
  box-shadow: 0 16px 48px rgba(0,0,0,.35), 0 0 0 1px rgba(123, 177, 255, 0.2);
  transform: translateY(-4px);
}

.card:hover::before {
  opacity: 1;
}

.list{
  display:grid;
  gap:16px;
}

/* ===== Staggered List Animations ===== */
.list .card {
  animation: slideIn 0.6s ease-out backwards;
}

.list .card:nth-child(1) { animation-delay: 0.1s; }
.list .card:nth-child(2) { animation-delay: 0.2s; }
.list .card:nth-child(3) { animation-delay: 0.3s; }
.list .card:nth-child(4) { animation-delay: 0.4s; }
.list .card:nth-child(5) { animation-delay: 0.5s; }
.list .card:nth-child(n+6) { animation-delay: 0.6s; }

.badge{
  display:inline-block;
  background: var(--pill);
  border:1px solid #2b3d72;
  color:var(--text);
  border-radius:999px;
  padding:4px 12px;
  font-size:12px;
  font-weight: 500;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.badge:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(123, 177, 255, 0.2);
}

.swatch{
  display:inline-block;
  width:12px;
  height:12px;
  border-radius:50%;
  margin-right:8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  transition: transform 0.2s ease;
}

.swatch:hover {
  transform: scale(1.2);
}

button{
  background: linear-gradient(145deg, #162650 0%, #1e2f5f 100%);
  border:1px solid #2b3d72;
  color:var(--text);
  border-radius:12px;
  padding:8px 16px;
  cursor:pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-weight: 500;
  position: relative;
  overflow: hidden;
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: radial-gradient(circle, rgba(123, 177, 255, 0.3) 0%, transparent 70%);
  transition: all 0.3s ease;
  transform: translate(-50%, -50%);
  z-index: 0;
}

button:hover::before {
  width: 200px;
  height: 200px;
}

button:hover{
  background: linear-gradient(145deg, #1b2f66 0%, #243a75 100%);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(123, 177, 255, 0.2);
  border-color: rgba(123, 177, 255, 0.3);
}

button.danger{
  background: linear-gradient(145deg, #4c1212 0%, #5a1a1a 100%);
  border-color:#7d2a2a;
}

button.danger:hover {
  background: linear-gradient(145deg, #5a1a1a 0%, #6b2020 100%);
  box-shadow: 0 8px 25px rgba(239, 68, 68, 0.2);
}

button:disabled{
  opacity:.6;
  cursor:not-allowed;
  transform: none;
}

.muted{color:var(--muted)}

/* ===== Forms ===== */
textarea,input,select{
  width:100%;
  background: linear-gradient(145deg, #0f1a3b 0%, #132448 100%);
  color:var(--text);
  border:1px solid #2b3d72;
  border-radius:12px;
  padding:12px 16px;
  transition: all 0.3s ease;
  font-size: 14px;
  box-shadow: inset 0 2px 8px rgba(0,0,0,0.1);
}

textarea:focus,input:focus,select:focus {
  outline: none;
  border-color: var(--accent-solid);
  box-shadow: 
    inset 0 2px 8px rgba(0,0,0,0.1),
    0 0 0 3px rgba(123, 177, 255, 0.1),
    0 4px 16px rgba(123, 177, 255, 0.15);
  transform: translateY(-1px);
}

textarea{
  resize:vertical;
  border-radius:12px;
  background: linear-gradient(145deg, var(--pill-solid) 0%, #2a3558 100%);
  font-size:1rem;
  border:1px solid #2c3e50;
  min-height: 120px;
}

/* ===== AI Preview Styling ===== */
#ai-preview {
  min-height: 24px;
  font-size: 14px;
  color: var(--muted);
  padding: 8px 0;
  transition: opacity 0.3s ease;
}

#ai-preview strong {
  color: var(--text);
  font-weight: 600;
  text-shadow: 0 0 8px rgba(123, 177, 255, 0.3);
}

#ai-preview .muted {
  color: var(--muted);
  margin-left: 8px;
}

/* ===== Range Slider Styling ===== */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  height: 8px;
  background: linear-gradient(90deg, #2b3d72 0%, var(--accent-solid) 100%);
  border-radius: 5px;
  outline: none;
  transition: background 0.3s ease;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  background: linear-gradient(145deg, var(--accent-solid) 0%, #9d8df1 100%);
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(123, 177, 255, 0.3);
  transition: all 0.3s ease;
}

input[type="range"]::-webkit-slider-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 6px 20px rgba(123, 177, 255, 0.4);
}

input[type="range"]::-moz-range-thumb {
  width: 20px;
  height: 20px;
  background: linear-gradient(145deg, var(--accent-solid) 0%, #9d8df1 100%);
  border-radius: 50%;
  cursor: pointer;
  border: none;
  box-shadow: 0 4px 12px rgba(123, 177, 255, 0.3);
  transition: all 0.3s ease;
}

input[type="range"]::-moz-range-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 6px 20px rgba(123, 177, 255, 0.4);
}

/* ===== Entry / Vent ===== */
.entry-head,.vent-head{display:flex;gap:10px;align-items:center;margin-bottom:6px}
.entry-actions,.vent-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}

/* ===== Make forms & cards LONGER (the important part) ===== */
#view-journal #entry-form,
#view-vent #vent-form,
#view-analytics #analytics,
#view-analytics #analytics-content{
  max-width:min(96vw,var(--content-wide));
  margin:0 auto 16px auto;
}

#entry-list .card,
#vent-list .card,
.entry-card,.vent-card{
  width:100%;
  max-width:min(96vw,var(--content-wide));
  margin:16px auto;
}

/* Keep lists centered nicely */
#entry-list,#vent-list{display:grid;justify-items:center}

/* ===== Analytics subtabs ===== */
.subtabs{display:flex;gap:8px;margin:8px 0 14px}
.subtab{
  padding:6px 12px;border-radius:10px;border:1px solid #2b3d72;background:#0f1d43;color:var(--text);
  cursor:pointer;transition:background .15s, transform .05s
}
.subtab:hover{background:#1b2f66}
.subtab:active{transform:translateY(1px)}
.subtab.active{background:var(--accent);color:#081226;border-color:transparent}

/* ===== Dialog ===== */
.dialog{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.4)}
.dialog:not(.hidden){display:flex}
.dialog .panel{background:var(--card);padding:16px;border-radius:12px;width:min(560px,92vw)}

/* ===== Calendar ===== */
.cal-toolbar{display:flex;align-items:center;gap:12px;padding:8px 0;margin-bottom:8px}
.cal-left,.cal-right{display:flex;align-items:center;gap:8px}
.cal-inline{display:inline-flex;align-items:center;gap:6px}
.cal-title{margin-left:auto;margin-right:auto;font-weight:700}

.cal-grid{background:var(--card);border:1px solid #22315a;border-radius:14px;overflow:hidden}
.cal-weekdays{display:grid;grid-template-columns:repeat(7,1fr);background:#0f1d43;border-bottom:1px solid #22315a}
.cal-weekday{padding:8px;text-align:center;font-size:12px;color:var(--muted)}
.cal-days{display:grid;grid-template-columns:repeat(7,1fr)}
.cal-cell{position:relative;min-height:88px;padding:6px 8px;border-right:1px solid #1b2950;border-bottom:1px solid #1b2950;cursor:pointer}
.cal-days .cal-cell:nth-child(7n){border-right:none}
.cal-date{font-size:12px;color:var(--muted)}
.cal-dots{display:flex;gap:6px;margin-top:6px;flex-wrap:wrap}
.cal-dot{width:10px;height:10px;border-radius:50%;display:inline-block}
.cal-count.badge{position:absolute;right:6px;bottom:6px}
.cal-detail{position:fixed;inset:0;display:none;align-items:flex-start;justify-content:center;background:rgba(0,0,0,.45);padding:40px 16px;z-index:50}
.cal-detail:not(.hidden){display:flex}
.cal-detail-panel{width:min(880px,96vw)}
.cal-detail-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.cal-section{margin-top:12px}
.cal-list{display:grid;gap:8px}
.cal-item{background:#0f1a3b;border:1px solid #2b3d72;border-radius:10px;padding:8px}
.cal-item .badge{margin-right:6px}
.cal-item-text{margin-top:6px;white-space:pre-wrap}
.cal-cell:hover{background:#162040;border-radius:10px;transform:scale(1.02);z-index:1}

/* ===== Calendar Emotion Carousel Overlay ===== */
.cal-carousel-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.cal-carousel-overlay.hidden {
  display: none;
}

.carousel-backdrop {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(8px);
}

.carousel-modal {
  position: relative;
  background: var(--card);
  border: 1px solid #22315a;
  border-radius: 20px;
  padding: 24px;
  width: min(500px, 90vw);
  max-height: 80vh;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.carousel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid #2b3d72;
}

.carousel-header h3 {
  margin: 0;
  font-size: 18px;
  color: var(--text);
  font-weight: 600;
}

.carousel-close {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 20px;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  transition: all 0.2s ease;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.carousel-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--text);
  transform: scale(1.1);
}

.carousel-content {
  display: flex;
  align-items: center;
  gap: 16px;
  min-height: 350px;
}

.carousel-nav {
  background: linear-gradient(145deg, #1c274f 0%, #2a3558 100%);
  border: 1px solid #2b3d72;
  color: var(--text);
  width: 44px;
  height: 44px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.carousel-nav:hover {
  background: linear-gradient(145deg, #2a3558 0%, #3a4568 100%);
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
}

.carousel-nav:active {
  transform: scale(0.95);
}

.carousel-viewport {
  flex: 1;
  overflow: hidden;
  border-radius: 16px;
}

.carousel-track {
  width: 100%;
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.carousel-card {
  background: linear-gradient(145deg, #0f1a3b 0%, #1a2548 100%);
  border: 1px solid #2b3d72;
  border-radius: 16px;
  padding: 24px;
  text-align: center;
  min-height: 300px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.emotion-badge {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 24px;
  color: white;
  font-weight: 700;
  font-size: 16px;
  text-transform: capitalize;
  margin: 0 auto;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.confidence-display {
  color: var(--muted);
  font-size: 14px;
  font-weight: 500;
}

.entry-text {
  color: var(--text);
  font-size: 16px;
  line-height: 1.6;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 16px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  white-space: pre-wrap;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.entry-time {
  color: var(--muted);
  font-size: 13px;
  font-weight: 500;
  margin-top: auto;
}

.carousel-indicators {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 20px;
}

.indicator {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--muted);
  cursor: pointer;
  transition: all 0.3s ease;
  opacity: 0.5;
}

.indicator.active {
  background: var(--accent-solid);
  transform: scale(1.3);
  opacity: 1;
  box-shadow: 0 0 12px rgba(123, 177, 255, 0.4);
}

.indicator:hover {
  background: var(--text);
  opacity: 0.8;
  transform: scale(1.1);
}

/* Mobile responsive */
@media (max-width: 768px) {
  .carousel-modal {
    width: 95vw;
    padding: 20px;
    border-radius: 16px;
  }
  
  .carousel-content {
    min-height: 280px;
    gap: 12px;
  }
  
  .carousel-card {
    min-height: 250px;
    padding: 20px;
  }
  
  .carousel-nav {
    width: 40px;
    height: 40px;
    font-size: 18px;
  }
  
  .emotion-badge {
    font-size: 14px;
    padding: 8px 16px;
  }
  
  .entry-text {
    font-size: 14px;
    padding: 12px;
  }
}

/* ===== Clean Navigation Pills (Mobile-Friendly) ===== */
.pill-rail{
  position:relative;
  display:inline-flex;
  gap:4px;
  background: linear-gradient(145deg, var(--pill-solid) 0%, #2a3558 100%);
  border:1px solid #2b3d72;
  border-radius:16px;
  padding:4px;
  overflow:hidden;
  flex-wrap:wrap;
  box-shadow: inset 0 2px 8px rgba(0,0,0,0.2);
}

.nav-link, .tab-pill{
  position:relative;
  z-index:2;
  display:inline-block;
  padding:10px 16px;
  border-radius:12px;
  border:none;
  background:transparent;
  color:var(--text);
  white-space:nowrap;
  text-decoration:none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-weight: 500;
  font-size: 14px;
  text-align: center;
  min-width: 70px;
}

.nav-link:hover, .tab-pill:hover{
  background: rgba(123, 177, 255, 0.1);
  text-decoration:none;
  transform: translateY(-1px);
  color: var(--accent-solid);
}

.nav-link.is-active, .tab-pill.active{
  background: linear-gradient(135deg, var(--accent-solid) 0%, #9d8df1 100%);
  color:#081226;
  font-weight:700;
  box-shadow: 
    0 4px 12px rgba(123, 177, 255, 0.3),
    0 2px 4px rgba(0,0,0,0.2);
  transform: translateY(-1px);
}

/* Remove the problematic blob underline completely */
.blob-underline{
  display: none;
}

/* ===== Buttons sizing sane (no accidental full-width) ===== */
button,.btn{width:auto;min-width:80px;border-radius:8px;white-space:nowrap}

/* ===== Media (mobile) ===== */
@media (max-width:768px){
  .container{padding:12px}
  .row{flex-direction:column}
  .entry-head,.vent-head,.entry-actions,.vent-actions,.edit-panel{flex-direction:column;align-items:flex-start}
  .topnav,.cal-toolbar,.cal-left,.cal-right{flex-direction:column;align-items:flex-start;gap:6px}
  .card{padding:10px}
  textarea,input,select{font-size:16px}
  button{width:100%;text-align:center}
  
  /* Enhanced mobile navigation */
  .pill-rail{
    justify-content:center;
    width:100%;
    gap:2px;
    padding:3px;
    border-radius:14px;
  }
  
  .nav-link, .tab-pill {
    padding:12px 8px;
    font-size:13px;
    min-width:60px;
    border-radius:10px;
  }
  
  .legend-row{flex-direction:column;align-items:flex-start}
  .donut-wrap{flex-direction:column}
  .cal-title{margin:0 auto}
}
/* ===== Replicate Journal look on Vent + Analytics ===== */

/* Make the Vent + Analytics shells the same width as Journal */
#view-vent #vent-form,
#view-vent #vent-list,
#view-analytics #analytics,
#view-analytics #analytics-content,
#view-analytics #entry-list,
#view-analytics #vent-list {
  max-width: min(96vw, var(--content-wide));
  margin-inline: auto;
}

/* Cards in Vent + Analytics: same wide, centered, comfy style */
#view-vent #vent-list .card,
#view-analytics #analytics-content .card,
#view-analytics #entry-list .card,
#view-analytics #vent-list .card,
#view-analytics .entry-card,
#view-analytics .vent-card {
  width: 100%;
  max-width: min(96vw, var(--content-wide));
  margin: 16px auto;
  background: var(--card);
  border: 1px solid #22315a;
  border-radius: 14px;
  padding: 12px;
  box-shadow: 0 4px 16px rgba(0,0,0,.25);
  transition: box-shadow .15s, transform .05s;
}
#view-vent #vent-list .card:hover,
#view-analytics #analytics-content .card:hover,
#view-analytics #entry-list .card:hover,
#view-analytics #vent-list .card:hover,
#view-analytics .entry-card:hover,
#view-analytics .vent-card:hover {
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}

/* Keep lists centered like Journal */
#view-vent #vent-list,
#view-analytics #entry-list,
#view-analytics #vent-list {
  display: grid;
  justify-items: center;
}

/* Match Journal’s header layout: label left, timestamp right */
.vent-head .muted:last-child,
.entry-head .muted:last-child {
  margin-left: auto;
}

/* Buttons: same sizing as Journal on wide layout */
#view-vent .vent-actions button,
#view-analytics .entry-actions button,
#view-analytics .vent-actions button {
  padding: 8px 14px;
  font-size: 15px;
  width: auto;
  white-space: nowrap;
}

/* Vent edit textarea spacing/width parity */
#view-vent textarea {
  width: 100%;
  min-height: 160px;
  box-sizing: border-box;
}

/* ==== NUKE NARROW WIDTHS (force Journal/Vent/Analytics to be wide) ==== */

/* kill any old caps */
.card, .entry-card, .vent-card, form {
  max-width: none !important;
}

/* shells & lists — same width as journal */
#view-journal #entry-form,
#view-vent #vent-form,
#view-analytics #analytics,
#view-analytics #analytics-content,
#entry-list, #vent-list,
#view-analytics #entry-list, #view-analytics #vent-list {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important; /* e.g. 1600px */
  margin-left: auto !important;
  margin-right: auto !important;
}

/* actual cards — wide & centered */
#entry-list > .card,
#vent-list  > .card,
#view-analytics .card,
.entry-card, .vent-card {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin: 16px auto !important;
}

/* lists = one full-width column (don’t shrink) */
#entry-list, #vent-list, #view-analytics #entry-list, #view-analytics #vent-list {
  display: grid !important;
  grid-template-columns: 1fr !important;
  justify-items: center !important;
}
/* Force Vent cards wide */
#view-vent #vent-list > .card,
#view-vent .vent-card {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin: 16px auto !important;
}

/* Force Analytics cards wide */
#view-analytics #analytics-content > .card,
#view-analytics .entry-card,
#view-analytics .vent-card,
#view-analytics .card {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin: 16px auto !important;
}
/* ==== Vent page: match Journal width ==== */

/* Let the vent view use the full page width budget */
#view-vent .container {
  max-width: var(--page-max) !important; /* 2880px by your vars */
}

/* Form + list shells centered and wide */
#view-vent #vent-form,
#view-vent #vent-list {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important; /* 1600px by your vars */
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Actual vent cards wide & centered */
#view-vent #vent-list > .card,
#view-vent .vent-card {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin: 16px auto !important;
  background: var(--card);
  border: 1px solid #22315a;
  border-radius: 14px;
  box-shadow: 0 4px 16px rgba(0,0,0,.25);
}

/* Textarea parity (you already have most of this) */
#view-vent textarea {
  width: 100%;
  min-height: 160px;
  box-sizing: border-box;
  padding: 10px 12px;
  background: var(--pill);
  color: var(--text);
  border: 1px solid #2c3e50;
  border-radius: 8px;
  font-size: 16px;
  resize: vertical;
}

/* Buttons same sizing as Journal */
#view-vent .vent-actions button {
  padding: 8px 14px;
  font-size: 15px;
  width: auto;
  white-space: nowrap;
}
/* ==== SITE-WIDE WIDE LAYOUT — JOURNAL / VENT / ANALYTICS ==== */
/* You can bump this to 1800px or 2000px if you want even longer */
:root { --content-wide: 1600px; }

/* Always let the page breathe */
.container {
  max-width: var(--page-max) !important;   /* 2880px by your vars */
}

/* Shells & lists (same width as Journal) */
#view-journal #entry-form,
#view-journal #entry-list,
#view-vent #vent-form,
#view-vent #vent-list,
#view-analytics #analytics,
#view-analytics #analytics-content,
#view-analytics #entry-list,
#view-analytics #vent-list {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Actual cards — wide & centered everywhere */
#view-journal .card,
#view-vent .card,
#view-analytics .card,
.entry-card,
.vent-card {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin: 16px auto !important;
  background: var(--card);
  border: 1px solid #22315a;
  border-radius: 14px;
  box-shadow: 0 4px 16px rgba(0,0,0,.25);
}

/* ==== Credits view: center horizontally, not vertically ==== */
#view-credits.view.active {
  display: flex !important;               /* keep flex to easily center horizontally */
  align-items: flex-start;                /* stick to the top, not middle */
  justify-content: center;                /* center horizontally */
  min-height: auto;                       /* no forced vertical centering */
  padding-top: 16px;                      /* small breathing room under nav */
}
#view-credits .container {
  width: 100%;
  display: block;                         /* normal block flow */
  margin: 0 auto;                         /* center inner content horizontally */
}
#view-credits .card {
  margin: 16px auto !important;           /* centered card with a bit of top margin */
}

/* Lists = one comfy centered column */
#entry-list, #vent-list,
#view-analytics #entry-list, #view-analytics #vent-list {
  display: grid !important;
  grid-template-columns: 1fr !important;
  justify-items: center !important;
}

/* Vent textarea parity (keeps it comfy within the wide form) */
#view-vent textarea, #view-journal textarea {
  width: 100%;
  min-height: 160px;
  box-sizing: border-box;
  padding: 10px 12px;
}

/* ==== FINAL WIDE OVERRIDES (Journal/Vent/Analytics) ==== */
:root { --content-wide: 1600px; }

.container { max-width: var(--page-max) !important; }

/* shells & lists centered + long */
#view-journal #entry-form,
#view-journal #entry-list,
#view-vent #vent-form,
#view-vent #vent-list,
#view-analytics #analytics,
#view-analytics #analytics-content,
#view-analytics #entry-list,
#view-analytics #vent-list {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* cards long & centered */
#view-journal .card,
#view-vent .card,
#view-analytics .card,
.entry-card, .vent-card {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin: 16px auto !important;
}

/* list column keeps center */
#entry-list, #vent-list,
#view-analytics #entry-list, #view-analytics #vent-list {
  display: grid !important;
  grid-template-columns: 1fr !important;
  justify-items: center !important;
}

/* pill tabs hover/active polish (no underline) */
.pill-rail { position: relative; display: inline-flex; gap: 8px; padding: 6px 10px; border-radius: 9999px; background: var(--pill); border: 1px solid #2b3d72; filter: url(#goo); overflow: hidden; flex-wrap: wrap; }
.tab-pill { position: relative; z-index: 1; padding: 8px 16px; border-radius: 9999px; background: transparent; border: 1px solid transparent; color: var(--text); text-decoration: none; transition: background .25s ease, color .25s ease; }
.tab-pill:hover { background: #1b2f66; text-decoration: none; }
.tab-pill.active { color: #081226; }

/* blob */
.blob-underline { position: absolute; top: 4px; left: 0; height: calc(100% - 8px); width: 0; background: var(--accent); border-radius: 9999px; z-index: 0; transition: left .35s cubic-bezier(.22,1,.36,1), width .35s cubic-bezier(.22,1,.36,1); }

/* ==== 9% gutters on both sides (content ~82% center) ==== */
body {
  padding-left: 9vw !important;
  padding-right: 9vw !important;
}

/* Smaller gutters on phones so it doesn't feel cramped */
@media (max-width: 900px) {
  body {
    padding-left: 4vw !important;
    padding-right: 4vw !important;
  }
}

/* === 9% gutters on both sides (content ≈ 82% centered) === */
.container {
  width: 82vw !important;
  max-width: var(--page-max) !important; /* keeps your 2880px cap */
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Make the top nav follow the same gutters */
.topnav {
  width: 82vw !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Mobile: smaller gutters so it doesn't feel cramped */
@media (max-width: 900px) {
  .container, .topnav { width: 92vw !important; }
}
.view { display: none !important; }
.view.active { display: block !important; }

/* --- CLICK FIX: ensure overlays don't block clicks --- */
.blob-underline { pointer-events: none !important; }   /* blob can't eat clicks */
.pill-rail { position: relative; }
.pill-rail .tab-pill, .pill-rail .nav-link { position: relative; z-index: 1; }

.card { position: relative; cursor: default; }         /* don't steal clicks */
.card button { position: relative; z-index: 2; }        /* buttons always on top */

/* --- SHOW ONLY ACTIVE VIEW --- */
.view { display: none !important; }
.view.active { display: block !important; }

/* --- CLICK FIX (blob/buttons/tabs) --- */
.blob-underline { pointer-events: none !important; }
.pill-rail { position: relative; }
.pill-rail .tab-pill, .pill-rail .nav-link { position: relative; z-index: 1; }
.card { position: relative; }
.card button { position: relative; z-index: 2; }

/* Show only the active view (no accidental multi-view) */
.view { display: none !important; }
.view.active { display: block !important; }

/* Make sure the blob never eats clicks, buttons stay clickable */
.blob-underline { pointer-events: none !important; }
.pill-rail { position: relative; }
.pill-rail .tab-pill, .pill-rail .nav-link { position: relative; z-index: 1; }
.card { position: relative; }
.card button { position: relative; z-index: 2; }

/* 9% gutters on both sides (content ≈ 82% in the middle) */
.container, .topnav {
  width: 82vw !important;
  max-width: var(--page-max) !important; /* keeps your 2880px cap */
  margin-left: auto !important;
  margin-right: auto !important;
}

/* phone: looser gutters so it doesn't feel cramped */
@media (max-width: 900px) {
  .container, .topnav { width: 92vw !important; }
}
/* === CONTENT-ONLY GUTTERS (keep the top nav full width) === */

/* keep the top bar spanning the page */
.topnav {
  width: 100% !important;
  max-width: none !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* apply ~82% width only to content inside views */
.view > .container {
  width: 82vw !important;                    /* center content with 9% gutters */
  max-width: var(--page-max) !important;     /* still cap at your 2880px */
  margin-left: auto !important;
  margin-right: auto !important;
}

/* mobile: loosen gutters so it doesn't feel cramped */
@media (max-width: 900px) {
  .view > .container { width: 92vw !important; }
}
/* === FULL-BLEED TOP NAV (ignore any container constraints) === */
.topnav {
  width: 100vw !important;
  margin-left: calc(50% - 50vw) !important;  /* bleed to edges even if inside a container */
  margin-right: calc(50% - 50vw) !important;
  max-width: none !important;
}

/* If your nav is wrapped by a .container, neutralize that wrapper */
.topnav .container,
.container > .topnav {
  width: 100% !important;
  max-width: none !important;
  margin: 0 !important;
  padding-left: 16px !important;
  padding-right: 16px !important;
}

/* === CONTENT-ONLY GUTTERS (tabs’ content area only) === */
/* Add 9% gutters to each view section; nav is NOT affected */
.view {
  padding-left: 9vw !important;
  padding-right: 9vw !important;
}

/* Keep inner content flexible and wide inside views */
.view > .container {
  width: 100% !important;
  max-width: var(--page-max) !important;   /* your 2880px cap still applies */
  margin: 0 auto !important;
}

/* Mobile: gentler gutters */
@media (max-width: 900px) {
  .view { padding-left: 4vw !important; padding-right: 4vw !important; }
}

/* Disclaimer z-index & click safety */
.disclaimer-banner { position: sticky; top: 0; z-index: 60; }
.disclaimer-banner .btn { pointer-events: auto; }

/* Permanent, centered disclaimer */
.disclaimer-banner {
  position: sticky;
  top: 0;
  z-index: 60;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;

  padding: 12px 16px;
  background: #193057;
  color: var(--text);
  border-bottom: 1px solid #22315a;
}
.disclaimer-text { margin: 0; font-weight: 500; }

/* Ensure any old "hidden" rule can't hide it */
.disclaimer-banner.hidden { display: flex !important; }

/* ==== Donut center number: force visible ==== */
.donut-wrap svg text,
.donut-wrap .donut-center,
#donut-center {
  fill: var(--text) !important;           /* use your light theme color */
  text-anchor: middle;                    /* center horizontally */
  dominant-baseline: middle;              /* center vertically */
  font-weight: 700;
}
/* ==== VENT TAB ONLY: match centered 9% gutters + wide cards ==== */

/* add 9% gutters to the Vent view content (nav unaffected) */
#view-vent { padding-left: 9vw !important; padding-right: 9vw !important; }

/* keep inner wrapper flexible */
#view-vent > .container {
  width: 100% !important;
  max-width: var(--page-max) !important;  /* your 2880px cap */
  margin: 0 auto !important;
}

/* center the form and the list to your wide content width */
#view-vent #vent-form,
#view-vent #vent-list {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important; /* e.g. 1600px */
  margin-left: auto !important;
  margin-right: auto !important;
}

/* make each vent card span that same width */
#view-vent #vent-list > .card,
#view-vent .vent-card {
  width: 100% !important;
  max-width: min(96vw, var(--content-wide)) !important;
  margin: 16px auto !important;
}

/* mobile: softer gutters */
@media (max-width: 900px) {
  #view-vent { padding-left: 4vw !important; padding-right: 4vw !important; }
}
/* ===== VENT PAGE FINAL WIDTH FIX (content only) ===== */

/* content gutters: 82% centered, nav untouched */
#view-vent > .container {
  width: 82vw !important;                   /* 9% left + 9% right */
  max-width: var(--page-max) !important;    /* your 2880px cap */
  margin-left: auto !important;
  margin-right: auto !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* mobile: softer gutters */
@media (max-width: 900px) {
  #view-vent > .container { width: 92vw !important; }
}

/* kill any old narrow caps inside Vent */
#view-vent .card,
#view-vent .vent-card,
#view-vent form {
  max-width: none !important;
  width: 100% !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* make the form + list span the full container width */
#view-vent #vent-form,
#view-vent #vent-list {
  width: 100% !important;
  margin: 0 auto !important;
}

/* list layout: single centered column; each item spans container */
#view-vent #vent-list {
  display: grid !important;
  grid-template-columns: 1fr !important;
  justify-items: center !important;
}
#view-vent #vent-list > .card,
#view-vent .vent-card {
  width: 100% !important;
  margin: 16px 0 !important;
}

/* ===== VENT: make content wide like the other tabs (hard override) ===== */

/* Use 82% page width for Vent content (9% gutters each side) */
#view-vent { --vent-width: min(82vw, var(--content-wide)); }

/* Make the form and list span that width and be centered */
#view-vent #vent-form,
#view-vent #vent-list {
  width: var(--vent-width) !important;
  max-width: var(--vent-width) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Kill old 720px caps on Vent cards, make each card fill the same width */
#view-vent #vent-list > .card,
#view-vent .vent-card,
#view-vent .card {
  width: var(--vent-width) !important;
  max-width: var(--vent-width) !important;
  margin: 16px auto !important;
  box-sizing: border-box !important;
}

/* Keep the list a single centered column */
#view-vent #vent-list {
  display: grid !important;
  grid-template-columns: 1fr !important;
  justify-items: center !important;
}

/* Textareas should fill the wide form */
#view-vent textarea {
  width: 100% !important;
  box-sizing: border-box !important;
}

/* Mobile: gentler gutters */
@media (max-width: 900px) {
  #view-vent { --vent-width: 92vw; }
}
/* ===== VENT: center content, remove extra left/right padding ===== */

/* kill any .view padding that was adding a second gutter */
#view-vent { padding-left: 0 !important; padding-right: 0 !important; }

/* use width-only to center (9% + 82% + 9%) */
#view-vent > .container {
  width: min(82vw, var(--content-wide)) !important; /* ~82% middle */
  max-width: var(--page-max) !important;            /* keep your 2880 cap */
  margin: 0 auto !important;                        /* center */
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* make form & list fill that centered container */
#view-vent #vent-form,
#view-vent #vent-list {
  width: 100% !important;
  margin: 0 auto !important;
}

/* cards span the container; no stray caps */
#view-vent #vent-list > .card,
#view-vent .vent-card {
  width: 100% !important;
  max-width: none !important;
  margin: 16px auto !important;
  box-sizing: border-box !important;
}

/* list: one centered column; items stretch */
#view-vent #vent-list {
  display: grid !important;
  grid-template-columns: 1fr !important;
  justify-items: stretch !important;
}

/* mobile: softer gutters (handled by the width rule above) */
@media (max-width: 900px) {
  #view-vent > .container { width: 92vw !important; }
}

/* Center all tab content (nav unaffected) */
.view > .container {
  width: min(82vw, var(--content-wide)) !important;
  max-width: var(--page-max) !important;
  margin: 0 auto !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* ===== JOURNAL + ANALYTICS — CENTER CONTENT AT ~82% ===== */

/* kill any leftover view padding that pushes things sideways */
#view-journal,
#view-analytics {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* center the inner container with 9% gutters on each side */
#view-journal > .container,
#view-analytics > .container {
  width: min(82vw, var(--content-wide)) !important;  /* ~82% middle */
  max-width: var(--page-max) !important;             /* keep your 2880 cap */
  margin: 0 auto !important;                         /* center */
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* make the main shells fill that centered container */
#entry-form,
#entry-list,
#analytics,
#analytics-content {
  width: 100% !important;
  margin: 0 auto !important;
}

/* cards span the container; remove any old caps */
#view-journal .card,
#view-analytics .card,
#view-journal .entry-card,
#view-analytics .entry-card,
#view-analytics .vent-card {
  width: 100% !important;
  max-width: none !important;
  margin: 16px auto !important;
  box-sizing: border-box !important;
}

/* lists = a single centered column with full-width items */
#entry-list,
#view-analytics #entry-list,
#view-analytics #vent-list {
  display: grid !important;
  grid-template-columns: 1fr !important;
  justify-items: stretch !important;
  row-gap: 16px !important;
}

/* ===== Analytics donut: centered with wrap-around legend ===== */
#view-analytics .donut-wrap{
  display:flex !important;
  flex-wrap:wrap !important;
  align-items:center !important;
  justify-content:center !important;
  gap:16px 24px !important;
  margin: 8px auto 16px !important;
  max-width: min(82vw, var(--content-wide)) !important;
}

#view-analytics .donut-wrap svg{
  flex: 0 0 260px !important;     /* donut size */
  width: 260px !important;
  height: 260px !important;
  display:block !important;
  margin: 0 auto !important;      /* keep it perfectly centered */
}

/* Legend becomes chips that wrap around the donut */
#view-analytics .legend{
  display:flex !important;
  flex-wrap:wrap !important;
  align-items:center !important;
  justify-content:center !important;
  gap:8px 12px !important;
  max-width: 720px !important;
}

/* Each legend row as a small pill */
#view-analytics .legend-row{
  display:flex !important;
  align-items:center !important;
  gap:8px !important;
  padding:4px 10px !important;
  border-radius:999px !important;
  background: var(--pill) !important;
  border:1px solid #2b3d72 !important;
  white-space:nowrap !important;
}

/* If you render a "Total entries" line, center it and let it take a whole row */
#view-analytics .legend .legend-total{
  flex-basis:100% !important;
  text-align:center !important;
  opacity:.95 !important;
  padding:2px 0 !important;
}

/* keep the center number readable */
#view-analytics .donut-wrap svg text,
#view-analytics .donut-center{
  fill: var(--text) !important;
  text-anchor: middle;
  dominant-baseline: middle;
  font-weight: 700;
}

/* ===== Credits polish (no HTML changes) ===== */
#view-credits .card {
  max-width: 920px !important;
  margin: 24px auto !important;
}

#view-credits ul {
  list-style: none !important;
  padding: 0 !important;
  display: grid !important;
  gap: 8px !important;
}

#view-credits li {
  background: var(--pill) !important;
  border: 1px solid #2b3d72 !important;
  border-radius: 12px !important;
  padding: 8px 12px !important;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace !important;
  white-space: pre-wrap !important;
  word-break: break-word !important;
}

#view-credits h2 { margin-bottom: 6px !important; }
#view-credits p { margin: 4px 0 12px !important; opacity: .9; }

/* ===== Credits styling ===== */
#view-credits .card { max-width: 960px !important; margin: 24px auto !important; }

#view-credits .credits-grid {
  display: grid; gap: 12px;
}

#view-credits .credits-row {
  display: grid; grid-template-columns: 200px 1fr; gap: 12px; align-items: center;
}

#view-credits .credits-role {
  font-weight: 700; color: var(--text);
}

#view-credits .credits-members { display: flex; flex-wrap: wrap; gap: 8px; }

#view-credits .credit-chip {
  display: inline-flex; align-items: baseline; gap: 8px;
  padding: 6px 10px; border-radius: 999px;
  background: var(--pill); border: 1px solid #2b3d72; color: var(--text);
}

#view-credits .chip-name { font-weight: 600; }
#view-credits .chip-id {
  font-family: ui-monospace, Menlo, Consolas, "SF Mono", monospace;
  opacity: .9;
}

@media (max-width: 700px) {
  #view-credits .credits-row { grid-template-columns: 1fr; }
  #view-credits .credits-role { margin-bottom: 4px; }
}

/* Show emotion chooser only when editing an entry */
.entry-card .edit-panel { display: none; gap: 8px; flex-wrap: wrap; margin-top: 8px; }
.entry-card .view-panel { display: flex; gap: 8px; margin-top: 8px; }

/* When the card is in editing state */
.entry-card.editing .edit-panel { display: flex; }
.entry-card.editing .view-panel { display: none; }

.hidden { display: none !important; }

/* Kill the Analytics "Refresh" button (any of these selectors) */
#view-analytics #an-refresh,
#view-analytics .btn-refresh,
#view-analytics button[data-action="refresh"] {
  display: none !important;
}

/* ==== Calendar emotion strip + slider ==== */
.emo-strip{
  overflow: hidden;
  border: 1px solid #2b3d72;
  border-radius: 10px;
  padding: 8px;
  background: #0f1a3b;
}
.emo-track{
  display: flex;
  gap: 8px;
}
.emo-chip{
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid #2b3d72;
  color: var(--text);
  white-space: nowrap;
}
.emo-dot{
  width: 10px; height: 10px; border-radius: 50%; display: inline-block;
}
.emo-count{ margin-left: 4px; opacity: .85; }
.emo-slider{
  width: 100%;
  margin-top: 6px;
  appearance: none;
  background: transparent;
}
.emo-slider::-webkit-slider-runnable-track{
  height: 6px; border-radius: 999px; background: #1b2f66; border: 1px solid #2b3d72;
}
.emo-slider::-webkit-slider-thumb{
  -webkit-appearance: none;
  width: 16px; height: 16px; border-radius: 50%;
  background: var(--accent); margin-top: -5px; border: none;
}
.emo-slider::-moz-range-track{
  height: 6px; border-radius: 999px; background: #1b2f66; border: 1px solid #2b3d72;
}
.emo-slider::-moz-range-thumb{
  width: 16px; height: 16px; border-radius: 50%;
  background: var(--accent); border: none;
}

/* kill all AI banners/warnings anywhere */
.ai-banner,
.ai-unavailable,
.ai-warning,
[data-ai-banner],
[data-ai-unavailable],
#aiWarning {
  display: none !important;
}

/* make the slider actually clickable/drag-able */
.calendar-slider-wrap { position: relative; z-index: 99999; }
input[type="range"] {
  position: relative;
  z-index: 100000;      /* above any overlay */
  width: 100%;
  -webkit-appearance: none; appearance: none;
  height: 6px; border-radius: 999px; background: #22315a;
  outline: none; touch-action: pan-x; pointer-events: auto;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none;
  width: 18px; height: 18px; border-radius: 50%;
  background: var(--accent); border: 2px solid #ffffff33;
}
input[type="range"]::-moz-range-thumb {
  width: 18px; height: 18px; border-radius: 50%;
  background: var(--accent); border: 2px solid #ffffff33;
}
